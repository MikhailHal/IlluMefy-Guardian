# IlluMefy Guardian

## æ¦‚è¦

IlluMefy Guardianã¯ã€IlluMefyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å“è³ªç¶­æŒã‚’ç›®çš„ã¨ã—ãŸDiscordç›£è¦–ãƒœãƒƒãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹æ‚ªæ„ã®ã‚ã‚‹ç·¨é›†ï¼ˆä¸é©åˆ‡ãªã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ç™»éŒ²ã€ã‚¿ã‚°ã®ä¸æ­£ãªå‰Šé™¤ãƒ»è¿½åŠ ç­‰ï¼‰ã‚’è‡ªå‹•æ¤œçŸ¥ã—ã€å¾©å…ƒã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

### ğŸ›¡ï¸ ç›£è¦–ãƒ»æ¤œçŸ¥æ©Ÿèƒ½
- **ä¸æ­£ãªã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ç™»éŒ²ã®æ¤œçŸ¥**: å½ã®ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼æƒ…å ±ã‚„é‡è¤‡ç™»éŒ²ã‚’è‡ªå‹•æ¤œçŸ¥
- **ã‚¿ã‚°ã®ä¸æ­£ç·¨é›†ç›£è¦–**: æ„å‘³ä¸æ˜ãªã‚¿ã‚°ã®è¿½åŠ ã‚„æ­£å½“ãªã‚¿ã‚°ã®å‰Šé™¤ã‚’ç›£è¦–
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å“è³ªãƒã‚§ãƒƒã‚¯**: Perspective APIã‚’ä½¿ç”¨ã—ãŸæœ‰å®³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ¤œå‡º

### ğŸ”„ è‡ªå‹•å¾©å…ƒæ©Ÿèƒ½
- **å³åº§ã®å¾©å…ƒå‡¦ç†**: å•é¡Œã®ã‚ã‚‹ç·¨é›†ã‚’æ¤œçŸ¥å¾Œã€è‡ªå‹•çš„ã«å‰ã®çŠ¶æ…‹ã«æˆ»ã™
- **ç·¨é›†å±¥æ­´ã®ä¿æŒ**: å¤‰æ›´å†…å®¹ã¨å¾©å…ƒç†ç”±ã‚’è¨˜éŒ²ãƒ»ç®¡ç†
- **é€šçŸ¥æ©Ÿèƒ½**: å•é¡Œæ¤œçŸ¥ã¨å¾©å…ƒå‡¦ç†ã‚’Discordãƒãƒ£ãƒ³ãƒãƒ«ã«é€šçŸ¥

### ğŸ¤– Discordãƒœãƒƒãƒˆæ©Ÿèƒ½
- **ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰å¯¾å¿œ**: `/ping`, `/status`ç­‰ã®åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: Discordå†…ã§ã®å³åº§ãªåå¿œã¨å‡¦ç†
- **ç®¡ç†è€…æ¨©é™åˆ¶å¾¡**: æ¨©é™ã«å¿œã˜ãŸæ©Ÿèƒ½åˆ¶é™

## æŠ€è¡“ä»•æ§˜

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```
Entry Point (index.ts)
    â†“
GuardianBot (DI Container)
    â†“
â”œâ”€â”€ GuardianDispatcher (Command/Event Router)
â”‚   â”œâ”€â”€ CommandRegistry (Slash Command Management)
â”‚   â””â”€â”€ Event Handlers (Monitoring Logic)
â”œâ”€â”€ ConfigurationService (Secret Management)
â””â”€â”€ External APIs (Perspective API, etc.)
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **Runtime**: Node.js + TypeScript
- **Discord**: discord.js v14
- **Cloud**: Google Cloud Platform
  - Secret Manager (èªè¨¼æƒ…å ±ç®¡ç†)
  - Cloud Functions (å°†æ¥çš„ãªã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹å±•é–‹ç”¨)
- **AI/ML**: Google Perspective API (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å“è³ªåˆ¤å®š)
- **Architecture Pattern**: 
  - Dependency Injection (DI)
  - Clean Architecture
  - Observer Pattern

### é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **Linting**: ESLint (Google Style Guide)
- **Build**: TypeScript Compiler
- **Package Manager**: npm

## ä½¿ç”¨æ–¹æ³•

### Discord ã‚³ãƒãƒ³ãƒ‰(ç¾åœ¨è¿½åŠ ä¸­)

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `/ping` | ãƒœãƒƒãƒˆã®å‹•ä½œç¢ºèª |
| `/status` | ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã®çŠ¶æ…‹ç¢ºèª |

### ç›£è¦–å¯¾è±¡

1. **ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼é–¢é€£**
   - æ–°è¦ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ç™»éŒ²æ™‚ã®æƒ…å ±æ¤œè¨¼
   - æ—¢å­˜ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼æƒ…å ±ã®ä¸æ­£ãªå¤‰æ›´

2. **ã‚¿ã‚°é–¢é€£**  
   - ä¸é©åˆ‡ãªã‚¿ã‚°ã®è¿½åŠ 
   - æ­£å½“ãªã‚¿ã‚°ã®å‰Šé™¤
   - ã‚¿ã‚°å†…å®¹ã®å“è³ªãƒã‚§ãƒƒã‚¯

## é–‹ç™º

### ãƒ“ãƒ«ãƒ‰
```bash
npm run build
```

### ãƒªãƒ³ãƒˆ
```bash
npm run lint
npm run lint:fix  # è‡ªå‹•ä¿®æ­£
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
src/
â”œâ”€â”€ bot/                    # Botãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½
â”‚   â”œâ”€â”€ commands/          # Discord ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
â”‚   â”œâ”€â”€ commandRegistry/   # ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²ç®¡ç†
â”‚   â”œâ”€â”€ configurationService/ # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ dispatcher/        # ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚³ãƒãƒ³ãƒ‰åˆ¶å¾¡
â”‚   â””â”€â”€ guardianBot.ts     # Bot ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
â”œâ”€â”€ lib/                   # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â””â”€â”€ secretManager/     # Secret Manager æŠ½è±¡åŒ–
â””â”€â”€ index.ts              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

## ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. Pull Requestã‚’ä½œæˆ

## ã‚µãƒãƒ¼ãƒˆ

è³ªå•ã‚„å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ã€[Issues](https://github.com/MikhailHal/IlluMefy-Guardian/issues)ã§ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚

---

**Note**: ã“ã®ãƒœãƒƒãƒˆã¯IlluMefyãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å“è³ªç¶­æŒã‚’ç›®çš„ã¨ã—ã¦é–‹ç™ºã•ã‚Œã¦ãŠã‚Šã€æ‚ªæ„ã®ã‚ã‚‹ä½¿ç”¨ã‚’ç¦æ­¢ã—ã¾ã™ã€‚